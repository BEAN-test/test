<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>TWICE 2026 Guide</title>

<link rel="apple-touch-icon" href="https://i.imgur.com/W7v5p5E.png">
<link rel="icon" href="https://i.imgur.com/W7v5p5E.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="TWICE2026">

<style>
  :root { --primary: #F04E98; --bg: #fdfbfb; --card-bg: #ffffff; --text: #333; --grad: linear-gradient(135deg, #FFAD60, #F04E98); }
  body { font-family: -apple-system, sans-serif; margin:0; background: var(--bg); color: var(--text); padding-bottom: 120px; }
  header { background: var(--grad); color:white; text-align:center; padding:18px; font-weight:bold; position:sticky; top:0; z-index:1000; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
  
  #countdown { background:#222; color:#FFAD60; font-size:1em; padding:8px; text-align:center; font-family: monospace; }
  
  .tabs { display: flex; background: white; position: sticky; top: 71px; z-index: 999; border-bottom: 1px solid #ddd; overflow-x: auto; }
  .tab-btn { padding: 14px 10px; border: none; background: none; font-weight: bold; color: #bbb; flex: 0 0 20%; outline:none; font-size: 0.8em; white-space: nowrap; }
  .tab-btn.active { color: #F04E98; border-bottom: 3px solid #F04E98; }

  .day-content { display: none; padding: 15px; }
  .day-content.active { display: block; }

  .event-card { background: var(--card-bg); border-radius: 15px; padding: 16px; margin-bottom: 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); position: relative; border-left: 10px solid var(--primary); }
  .info-box { background: #f9f9f9; padding: 10px; border-radius: 8px; font-size: 0.85em; margin-bottom: 8px; border: 1px solid #eee; }
  
  .check-item { display: flex; align-items: center; background: white; padding: 12px; border-radius: 10px; margin-bottom: 8px; border-left: 5px solid #FFAD60; }
  .check-item input { width: 20px; height: 20px; margin-right: 12px; }
  
  .trans-box { background: #e3f2fd; border-left: 10px solid #2196f3; padding: 12px; border-radius: 10px; margin-bottom: 10px; font-size: 0.9em; }
  
  .big-add-btn { background: #F04E98; color: white; border: none; width: 100%; padding: 16px; border-radius: 35px; font-weight: bold; margin-top: 10px; }
</style>
</head>
<body>

<header id="main-header">ğŸ­ TWICE 2026 Tokyo Guide</header>
<div id="countdown">00D 00:00:00</div>

<div class="tabs">
  <button class="tab-btn active" onclick="showTab('checklist-tab', this)">check>c>cbutto
  <button class="tab-btn" onclick="showTab('day1', this)">4/25 å…­</button>
  <button class="tab-btn" onclick="showTab('day2', this)">4/26 æ—¥</button>
  <button class="tab-btn" onclick="showTab('day3', this)">4/27 ä¸€</button>
  <button class="tab-btn" onclick="showTab('trans-tab', this)">äº¤é€šæŒ‡å—</button>
</div>

<div id="checklist-tab" class="day-content active">
  <h3 style="margin-top:0;">ğŸ’ å‡ºåœ‹å¿…å¸¶æ¸…å–®</h3>
  <div id="packing-list"></div>
  <button class="big-add-btn" onclick="addItem('packing-list')">ï¼‹ æ–°å¢ç‰©å“</button>
</div>

<div id="day1" class="day-content"></div>
<div id="day2" class="day-content"></div>
<div id="day3" class="day-content"></div>

<div id="trans-tab" class="day-content">
  <h3 style="margin-top:0;">ğŸ—ºï¸ æ±äº¬äº¤é€šå‚™å¿˜</h3>
  <div id="transport-list">
    <div class="trans-box"><b>âœˆï¸ æˆç”°æ©Ÿå ´ Skyliner</b><br>å¾€è¿”å¸‚å€æœ€å¿«å·¥å…·ï¼Œå»ºè­°äº‹å…ˆè³¼è²·é›»å­ç¥¨ã€‚</div>
    <div class="trans-box"><b>ğŸ’³ äº¤é€šå¡ (Suica/Pasmo)</b><br>iPhone å¯ç›´æ¥åŠ åˆ° Apple Walletï¼Œå—¶å¡é€²ç«™ã€‚</div>
    <div class="trans-box"><b>ğŸŸï¸ åœ‹ç«‹ç«¶æŠ€å ´ç«™</b><br>éƒ½ç‡Ÿå¤§æ±Ÿæˆ¶ç·š A2 å‡ºå£ï¼Œå‡ºä¾†å³é”æœƒå ´ã€‚</div>
    <div class="trans-box"><b>ğŸ¨ ç§‹è‘‰åŸç«™</b><br>JRå±±æ‰‹ç·šã€ä¸­å¤®ç¸½æ­¦ç·šã€æ—¥æ¯”è°·ç·šäº¤æœƒã€‚</div>
  </div>
  <button class="big-add-btn" onclick="addItem('transport-list', 'new_trans')">ï¼‹ æ–°å¢äº¤é€šå‚™è¨»</button>
</div>

<script>
  // æ ¸å¿ƒæ•¸æ“š
  const initialTripData = {
    day1: [
      {time: "06:30", loc: "æŠµé”æˆç”°æ©Ÿå ´", addr: "æˆç”°æ©Ÿå ´", line: "Skyliner", station: "æˆç”°æ©Ÿå ´", memo: "æŠµé”æ—¥æœ¬ âœˆï¸", color: "#64B5F6"},
      {time: "10:30", loc: "æ¾€è°·è¿½æ˜Ÿæˆ°å€", addr: "Tower Records / 109", line: "JR/åœ°éµ", station: "æ¾€è°·ç«™", memo: "4/25 é‡é»è¡Œç¨‹", color: "#F04E98"},
      {time: "15:00", loc: "æ–°å¤§ä¹…ä¿éŸ“åœ‹è¡—", addr: "æ–°å®¿å€", line: "JRå±±æ‰‹ç·š", station: "æ–°å¤§ä¹…ä¿", memo: "éŸ“æµå‘¨é‚Šæ¡è²·", color: "#EF5350"},
      {time: "17:30", loc: "æ–°å®¿å®˜æ–¹å±•ç¤ºåº—", addr: "TSUTAYA / æ——è‰¦åº—", line: "JR", station: "æ–°å®¿ç«™", memo: "æ‹ç…§é»", color: "#81D4FA"},
      {time: "20:00", loc: "å…¥ä½ç§‹è‘‰åŸé£¯åº—", addr: "ç§‹è‘‰åŸ", line: "JR", station: "ç§‹è‘‰åŸç«™", memo: "ä¼‘æ¯", color: "#F5F5F5"}
    ],
    day2: [
      {time: "10:00", loc: "åŸå®¿ç«¹ä¸‹é€š", addr: "ç¥å®®å‰", line: "JRå±±æ‰‹ç·š", station: "åŸå®¿ç«™", memo: "è¯åç”œé»", color: "#FFB74D"},
      {time: "13:00", loc: "æ± è¢‹æƒè²¨", addr: "Sunshine City", line: "JR", station: "æ± è¢‹ç«™", memo: "K-BOOKS", color: "#80CBC4"},
      {time: "17:00", loc: "åœ‹ç«‹ç«¶æŠ€å ´", addr: "æœƒå ´", line: "å¤§æ±Ÿæˆ¶ç·š", station: "åœ‹ç«‹ç«¶æŠ€å ´", memo: "ğŸ­ TWICE CONCERT", color: "#F04E98"}
    ],
    day3: [
      {time: "09:00", loc: "ç§‹è‘‰åŸæœ€å¾Œæ¡è²·", addr: "é£¯åº—é™„è¿‘ç™¾è²¨", line: "JR", station: "ç§‹è‘‰åŸç«™", memo: "æœ€å¾Œæƒè²¨æ™‚é–“", color: "#C5E1A5"},
      {time: "11:00", loc: "å‡ºç™¼å‰å¾€æ©Ÿå ´", addr: "ä¸Šé‡/ç§‹è‘‰åŸ", line: "Skyliner", station: "æˆç”°æ©Ÿå ´", memo: "æº–å‚™å›å®¶", color: "#F5F5F5"},
      {time: "12:50", loc: "æŠµé”æˆç”°æ©Ÿå ´", addr: "æ©Ÿå ´èˆªå»ˆ", line: "æŠµé”", station: "æˆç”°æ©Ÿå ´", memo: "è¾¦ç†å ±åˆ° âœˆï¸", color: "#64B5F6"}
    ]
  };

  const initialItems = ["è­·ç…§ & é–€ç¥¨", "Candy Bong (æ‰‹ç‡ˆ)", "è¡Œå‹•é›»æº", "æ—¥å¹£ç¾é‡‘", "é ç´„äºŒç¶­ç¢¼"];

  let myEvents = JSON.parse(localStorage.getItem('twice_trip_v30')) || initialTripData;
  let myItems = JSON.parse(localStorage.getItem('twice_items_v30')) || initialItems;

  function renderEvents() {
    ['day1', 'day2', 'day3'].forEach(day => {
      const container = document.getElementById(day);
      container.innerHTML = myEvents[day].map((ev, i) => `
        <div class="event-card" style="border-left-color: ${ev.color}">
          <div style="font-weight:bold; color:var(--primary);">â° ${ev.time}</div>
          <div style="font-size:1.1em; font-weight:bold; margin:5px 0;">ğŸ“ ${ev.loc}</div>
          <div class="info-box">ğŸš‡ ${ev.line} / ${ev.station}</div>
          <div style="font-size:0.85em; color:#666;">ğŸ“ ${ev.memo}</div>
        </div>`).join('');
    });
  }

  function renderItems() {
    const list = document.getElementById('packing-list');
    list.innerHTML = myItems.map((item, i) => `
      <div class="check-item">
        <input type="checkbox">
        <span contenteditable="true" onblur="updateItem(${i}, this.innerText)">${item}</span>
        <span style="margin-left:auto; color:#ccc;" onclick="deleteItem(${i})">âœ•</span>
      </div>`).join('');
    localStorage.setItem('twice_items_v30', JSON.stringify(myItems));
  }

  function addItem(id, type) {
    if(type === 'new_trans') {
      document.getElementById(id).innerHTML += `<div class="trans-box" contenteditable="true">é»æ“Šç·¨è¼¯äº¤é€šå‚™è¨»...</div>`;
    } else {
      myItems.push("æ–°ç‰©å“"); renderItems();
    }
  }

  function updateItem(i, val) { myItems[i] = val; localStorage.setItem('twice_items_v30', JSON.stringify(myItems)); }
  function deleteItem(i) { myItems.splice(i, 1); renderItems(); }
  function showTab(t, b) { 
    document.querySelectorAll('.day-content').forEach(d => d.classList.remove('active'));
    document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
    document.getElementById(t).classList.add('active'); b.classList.add('active'); 
  }

  // å€’æ•¸è¨ˆæ™‚
  setInterval(() => {
    const diff = new Date('2026-04-26T17:00:00+09:00') - new Date();
    const d = Math.floor(diff/86400000), h = Math.floor((diff/3600000)%24), m = Math.floor((diff/60000)%60), s = Math.floor((diff/1000)%60);
    document.getElementById('countdown').innerText = diff > 0 ? `${d}D ${h}:${m}:${s}` : 'SHOW TIME! ğŸ­';
  }, 1000);

  renderEvents(); renderItems();
</script>
</body>
</html>
