<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>TWICE 2026 Ultimate Guide</title>
<style>
  :root { --primary: #d6336c; --secondary: #ff85a1; --bg: #f8f9fa; --info: #17a2b8; --warning: #ffc107; }
  body { font-family: -apple-system, system-ui, sans-serif; margin:0; background: var(--bg); padding-bottom: 120px; }
  header { background: var(--primary); color:white; text-align:center; padding:15px; font-weight:bold; position:sticky; top:0; z-index:1000; }
  #countdown { background:#333; color:var(--secondary); font-size:1.1em; padding:8px; text-align:center; font-family: monospace; font-weight: bold; }
  .tabs { display: flex; justify-content: space-around; background: white; border-bottom: 1px solid #ddd; position: sticky; top: 50px; z-index: 999; }
  .tab-btn { padding: 12px; border: none; background: none; font-weight: bold; color: #666; flex: 1; font-size: 0.85em; }
  .tab-btn.active { color: var(--primary); border-bottom: 3px solid var(--primary); background: #fff0f3; }
  .day-content { display: none; padding: 15px; }
  .day-content.active { display: block; }

  /* è¡Œç¨‹å¡ç‰‡ */
  .event-card { background: white; border-radius: 12px; padding: 15px; margin-bottom: 15px; box-shadow: 0 3px 10px rgba(0,0,0,0.08); position: relative; border-left: 6px solid var(--info); }
  .event-card.concert { border-left-color: var(--primary); background: #fff0f3; }
  
  /* é»æ“Šç·¨è¼¯ */
  [contenteditable="true"] { outline: none; transition: 0.2s; border-radius: 4px; padding: 2px; }
  [contenteditable="true"]:focus { background: #fff4f7; box-shadow: 0 0 0 2px var(--secondary); }

  .time-tag { font-size: 0.85em; font-weight: bold; color: var(--primary); display: block; margin-bottom: 5px; }
  .loc-title { font-size: 1.1em; font-weight: bold; color: #222; display: block; margin-bottom: 8px; }
  .transport-box { background: #f1f3f5; padding: 8px; border-radius: 6px; font-size: 0.85em; margin-bottom: 10px; }
  .memo-content { font-size: 0.82em; color: #555; line-height: 1.6; white-space: pre-wrap; background: #fafafa; padding: 8px; border-radius: 4px; }
  
  .del-btn { position: absolute; right: 10px; top: 10px; color: #ccc; border: none; background: none; font-size: 1.2em; cursor: pointer; }
  .add-area { text-align: center; margin: 20px 0; }
  .big-add-btn { background: var(--primary); color: white; border: none; padding: 12px 30px; border-radius: 25px; font-weight: bold; }

  /* è£å‚™æ¸…å–® */
  .check-item { display: flex; align-items: center; background: white; padding: 12px; margin-bottom: 8px; border-radius: 10px; border: 1px solid #eee; }
  .check-item input { width: 18px; height: 18px; margin-right: 12px; }
</style>
</head>
<body>

<header>ğŸ­ TWICE This is for 2026 æ±äº¬å ´</header>
<div id="countdown">00D 00:00:00</div>

<div class="tabs">
  <button class="tab-btn active" onclick="showTab('checklist-tab', this)">ğŸ§³ è£å‚™</button>
  <button class="tab-btn" onclick="showTab('day1', this)">4/25</button>
  <button class="tab-btn" onclick="showTab('day2', this)">4/26</button>
  <button class="tab-btn" onclick="showTab('day3', this)">4/27</button>
</div>

<div id="checklist-tab" class="day-content active">
  <div id="packing-list">
    <div class="check-item"><input type="checkbox"><span>è­·ç…§ & æ©Ÿç¥¨ QR Code</span></div>
    <div class="check-item"><input type="checkbox"><span>Candybong & å‚™ç”¨é›»æ± </span></div>
    <div class="check-item"><input type="checkbox"><span>è¡Œå‹•é›»æº</span></div>
  </div>
  <div style="margin-top:20px; display:flex; gap:10px;">
    <input type="text" id="new-item-input" placeholder="æ‰‹å‹•æ–°å¢è£å‚™..." style="flex:1; padding:12px; border:1px solid #ddd; border-radius:8px;">
    <button onclick="addItem()" style="padding:12px 20px; background:var(--primary); color:white; border:none; border-radius:8px;">åŠ å…¥</button>
  </div>
</div>

<div id="day1" class="day-content"></div>
<div id="day2" class="day-content"></div>
<div id="day3" class="day-content"></div>

<div class="add-area" id="add-btn-container">
  <button class="big-add-btn" onclick="addNewEvent()">ï¼‹ åŠ å…¥è‡ªè¨‚è¡Œç¨‹</button>
</div>

<script>
  const detailedData = {
    day1: [
      {time: "10:00", loc: "K-spot (æ±äº¬ç«™)", station: "æ±äº¬ç«™ å…«é‡æ´²åœ°ä¸‹ä¸­å¤®å£", memo: "ğŸ•’ ç‡Ÿæ¥­: 10:00-20:30\nğŸ›ï¸ å•†å“: å®˜æ–¹æˆæ¬Š/å¿«é–ƒè¯å\nğŸ‘¥ é ä¼°: é€±æœ«æ¥µæ“æ“ ï¼Œå»ºè­°ä¸€é–‹é–€å°±è¡"},
      {time: "13:00", loc: "æ± è¢‹ K-BOOKS æˆ°å€", station: "æ± è¢‹ç«™ æ±å£ 35è™Ÿå‡ºå£", memo: "ğŸ•’ ç‡Ÿæ¥­: 11:30-20:00\nğŸ›ï¸ å•†å“: äºŒæ‰‹ç¨€æœ‰å°å¡ã€çµ•ç‰ˆå‘¨é‚Š\nğŸ‘¥ é ä¼°: ä¸‹åˆäººæ½®å¤šï¼Œç§»å‹•å›°é›£"},
      {time: "15:30", loc: "Tower Records æ± è¢‹åº—", station: "æ± è¢‹ç«™ æ±å£ P'PARCO 6F", memo: "ğŸ•’ ç‡Ÿæ¥­: 11:00-21:00\nğŸ›ï¸ å•†å“: å®˜æ–¹æ‰‹ç‡ˆã€æ–°å°ˆè¼¯ã€ç•™è¨€æ¿\nğŸ‘¥ é ä¼°: è¼ƒå¹³ç©©"}
    ],
    day2: [
      {time: "10:30", loc: "æ¾€è°· Tower Records æ——è‰¦åº—", station: "æ¾€è°·ç«™ B1 å‡ºå£", memo: "ğŸ•’ ç‡Ÿæ¥­: 11:00-22:00\nğŸ›ï¸ å•†å“: 1Få¤§çœ‹æ¿ã€5Få°ˆå€ã€6Fé»‘è† \nğŸ‘¥ é ä¼°: æ¼”å”±æœƒç•¶æ—¥æ—©ä¸Šæœƒæ’é•·éšŠï¼"},
      {time: "13:30", loc: "Mandarake & 109", station: "æ¾€è°·ç«™ A2 å‡ºå£", memo: "ğŸ•’ ç‡Ÿæ¥­: 12:00-20:00\nğŸ›ï¸ å•†å“: æ—©æœŸçµ•ç‰ˆè²¨ã€109å¤§ç‰†çœ‹æ¿\nğŸ‘¥ é ä¼°: åº—å…§çª„ï¼Œéœ€è€å¿ƒå°‹æ‰¾"},
      {time: "17:00", loc: "ğŸŸï¸ åœ‹ç«‹ç«¶æŠ€å ´ æ¼”å”±æœƒ", station: "åœ‹ç«‹ç«¶æŠ€å ´ A2å‡ºå£", memo: "ğŸ”¥ TWICE 2026 CONCERT!\nè¨˜å¾—ææ—©å…©å°æ™‚åˆ°å ´é ˜å–æ‡‰æ´ç‰©", special: "concert"}
    ],
    day3: [
      {time: "10:00", loc: "æ–°å¤§ä¹…ä¿éŸ“åœ‹è¡— (è–åœ°å·¡ç¦®)", station: "JR æ–°å¤§ä¹…ä¿ç«™ å–®ä¸€å‡ºå£", memo: "ğŸ•’ ç‡Ÿæ¥­: 10:00èµ·\nğŸ›ï¸ åœ°é»: Seoul Record, MOIZA, éŸ“æµç™¾è²¨\nğŸ‘¥ é ä¼°: ä¸‹åˆå¾Œçˆ†æ»¿ï¼Œå»ºè­°ä¸Šåˆé€›å®Œ"},
      {time: "13:30", loc: "æ–°å®¿ Tower Records", station: "æ–°å®¿ç«™ æ±å—å£ Flags", memo: "ğŸ•’ ç‡Ÿæ¥­: 11:00-22:00\nğŸ›ï¸ å•†å“: åœ˜å“¡è¦ªç­†ç°½åæ¿ã€è¡£è£å±•ç¤º\nğŸ‘¥ é ä¼°: äººæµå¤§ï¼Œå‡ºå£å°±åœ¨æ—é‚Š"},
      {time: "15:00", loc: "HMV&BOOKS SPOT æ–°å®¿", station: "æ–°å®¿ Lumine Est B1", memo: "ğŸ•’ ç‡Ÿæ¥­: 11:00-21:00\nğŸ›ï¸ å•†å“: TWICE å°é¢é›œèªŒæœ€å¾Œè£œè²¨"},
      {time: "16:30", loc: "âœˆï¸ å‰å¾€æˆç”°æ©Ÿå ´", station: "æ–°å®¿ç«™ NEX æœˆå°", memo: "å¸¶è‘—æ»¿æ»¿çš„å›æ†¶èˆ‡æˆ°åˆ©å“ï¼Œå›å®¶å›‰ï¼ğŸ­"}
    ]
  };

  let myEvents = JSON.parse(localStorage.getItem('twice_final_v11')) || detailedData;
  let activeTab = 'day1';

  function renderEvents() {
    ['day1', 'day2', 'day3'].forEach(day => {
      const container = document.getElementById(day);
      container.innerHTML = "";
      myEvents[day].forEach((ev, index) => {
        container.innerHTML += `
          <div class="event-card ${ev.special || ''}">
            <button class="del-btn" onclick="deleteEvent('${day}', ${index})">Ã—</button>
            <span class="time-tag" contenteditable="true" onblur="updateData('${day}', ${index}, 'time', this.innerText)">â° ${ev.time}</span>
            <span class="loc-title" contenteditable="true" onblur="updateData('${day}', ${index}, 'loc', this.innerText)">ğŸ“ ${ev.loc}</span>
            <div class="transport-box">ğŸš‰ <span contenteditable="true" onblur="updateData('${day}', ${index}, 'station', this.innerText)">${ev.station}</span></div>
            <div class="memo-content" contenteditable="true" onblur="updateData('${day}', ${index}, 'memo', this.innerText)">${ev.memo}</div>
          </div>
        `;
      });
    });
    localStorage.setItem('twice_final_v11', JSON.stringify(myEvents));
  }

  function updateData(day, index, field, value) {
    let clean = value.replace('â° ', '').replace('ğŸ“ ', '');
    myEvents[day][index][field] = clean;
    localStorage.setItem('twice_final_v11', JSON.stringify(myEvents));
  }

  function addNewEvent() {
    if (activeTab === 'checklist-tab') return;
    myEvents[activeTab].push({time: "12:00", loc: "æ–°åœ°é»", station: "å¡«å¯«è»Šç«™", memo: "ğŸ•’ ç‡Ÿæ¥­: \nğŸ›ï¸ å•†å“: \nğŸ‘¥ é ä¼°: "});
    renderEvents();
  }

  function deleteEvent(day, index) {
    if(confirm("åˆªé™¤æ­¤é …ï¼Ÿ")) { myEvents[day].splice(index, 1); renderEvents(); }
  }

  function addItem() {
    const val = document.getElementById('new-item-input').value;
    if(!val) return;
    const div = document.createElement('div');
    div.className = "check-item";
    div.innerHTML = `<input type="checkbox"> <span>${val}</span>`;
    document.getElementById('packing-list').appendChild(div);
    document.getElementById('new-item-input').value = "";
  }

  function showTab(tabId, btn) {
    activeTab = tabId;
    document.querySelectorAll('.day-content').forEach(d => d.classList.remove('active'));
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    document.getElementById(tabId).classList.add('active');
    btn.classList.add('active');
    document.getElementById('add-btn-container').style.display = (tabId === 'checklist-tab') ? 'none' : 'block';
  }

  function updateCountdown() {
    const target = new Date('2026-04-26T17:00:00+09:00');
    const now = new Date();
    const diff = target - now;
    if (diff <= 0) { document.getElementById('countdown').innerText = 'ENJOY THE SHOW! ğŸ­'; return; }
    const d = Math.floor(diff / (1000 * 60 * 60 * 24)).toString().padStart(2, '0');
    const h = Math.floor((diff / (1000 * 60 * 60)) % 24).toString().padStart(2, '0');
    const m = Math.floor((diff / 1000 / 60) % 60).toString().padStart(2, '0');
    const s = Math.floor((diff / 1000) % 60).toString().padStart(2, '0');
    document.getElementById('countdown').innerText = `${d}D ${h}:${m}:${s}`;
  }

  setInterval(updateCountdown, 1000);
  renderEvents();
  document.getElementById('add-btn-container').style.display = 'none';
</script>

</body>
</html>

